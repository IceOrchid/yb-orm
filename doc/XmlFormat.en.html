<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD>
	<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset=utf-8">
	<TITLE></TITLE>
	<META NAME="GENERATOR" CONTENT="LibreOffice 3.5  (Linux)">
	<META NAME="AUTHOR" CONTENT="Viacheslav Naydenov">
	<META NAME="CREATED" CONTENT="20130520;10080300">
	<META NAME="CHANGEDBY" CONTENT="Viacheslav Naydenov">
	<META NAME="CHANGED" CONTENT="20130520;10091200">
	<STYLE TYPE="text/css">
	<!--
		@page { size: 21cm 29.7cm; margin: 2cm }
		P { margin-bottom: 0.21cm }
		H2 { margin-bottom: 0.21cm; page-break-after: avoid }
		H2.western { font-family: "Times New Roman", serif; font-size: 18pt; font-weight: bold }
		H2.cjk { font-family: "Droid Sans Fallback"; font-size: 18pt; font-weight: bold }
		H2.ctl { font-family: "Lohit Hindi"; font-size: 18pt; font-weight: bold }
		BLOCKQUOTE { margin-left: 1cm; margin-right: 1cm }
		TT.western { font-family: "Droid Sans Mono", monospace }
		TT.cjk { font-family: "Droid Sans Fallback", monospace }
		TT.ctl { font-family: "Lohit Hindi", monospace }
	-->
	</STYLE>
</HEAD>
<BODY LANG="en-US" LINK="#000080" VLINK="#800000" DIR="LTR">
<H2 CLASS="western">Below is a brief description of XML format used
for metadata</H2>
<P>See also in <TT CLASS="western">examples</TT> folder. 
</P>
<P><TT CLASS="western">&lt;schema&gt;</TT> - the root element, it may
contain elements <TT CLASS="western">&lt;table&gt;</TT> and
<TT CLASS="western">&lt;relation&gt;</TT>. 
</P>
<UL>
	<LI><P STYLE="margin-bottom: 0cm"><TT CLASS="western">&lt;table&gt;</TT>
	- element describes table with its columns, it maps table to a
	class. It has the following attributes: 
	</P>
	<UL>
		<LI><P STYLE="margin-bottom: 0cm"><TT CLASS="western">name</TT> -
		(required) name of the table, as in SQL; 
		</P>
		<LI><P STYLE="margin-bottom: 0cm"><TT CLASS="western">sequence</TT>
		- (optional) name of sequence used to generate primary key values.
		Primary key must be a surrogate ID. When this attribute is not
		empty for databases without sequences (e.g. MySQL) it tells that
		the primary key values are autogenerated; 
		</P>
		<LI><P STYLE="margin-bottom: 0cm"><TT CLASS="western">class</TT> -
		(optional) name of a class to map the table to; 
		</P>
		<LI><P STYLE="margin-bottom: 0cm"><TT CLASS="western">xml-name</TT>
		- (optional) name of the XML element, used by the <TT CLASS="western">AutoXMLizer</TT>,
		if not set then the table's name is used, translated to lower case,
		<TT CLASS="western">'_'</TT> is substituted with <TT CLASS="western">'-'</TT>.
				</P>
		<LI><P STYLE="margin-bottom: 0cm"><TT CLASS="western">&lt;column&gt;</TT>
		- element <TT CLASS="western">&lt;table&gt;</TT> contains one or
		more <TT CLASS="western">&lt;column&gt;</TT> elements, each of them
		describing a single column. It has the following attributes: 
		</P>
		<UL>
			<LI><P STYLE="margin-bottom: 0cm"><TT CLASS="western">name</TT> -
			(required) name of the column, as in SQL; 
			</P>
			<LI><P STYLE="margin-bottom: 0cm"><TT CLASS="western">type</TT> -
			(required) type of the column, for now the following types are
			supported: 
			</P>
			<UL>
				<LI><P STYLE="margin-bottom: 0cm"><TT CLASS="western">integer</TT>
				- 32bit integer (at least) 
				</P>
				<LI><P STYLE="margin-bottom: 0cm"><TT CLASS="western">longint</TT>
				- 64bit (at least) integer, suitable for IDs 
				</P>
				<LI><P STYLE="margin-bottom: 0cm"><TT CLASS="western">decimal</TT>
				- decimal number with fraction part, suitable for storing money
				values, etc. 
				</P>
				<LI><P STYLE="margin-bottom: 0cm"><TT CLASS="western">datetime</TT>
				- timestamp data, with date and time parts 
				</P>
				<LI><P STYLE="margin-bottom: 0cm"><TT CLASS="western">string</TT>
				- string of characters; 
				</P>
			</UL>
			<LI><P STYLE="margin-bottom: 0cm"><TT CLASS="western">size</TT> -
			(required for string type, unused otherwise) - maximum length of
			the value; 
			</P>
			<LI><P STYLE="margin-bottom: 0cm"><TT CLASS="western">null</TT> -
			(optional) if the column may be assigned <TT CLASS="western">NULL</TT>
			value, the possible values are <TT CLASS="western">&quot;true&quot;</TT>
			and <TT CLASS="western">&quot;false&quot;</TT>. The default is
			<TT CLASS="western">&quot;true&quot;</TT> unless the column is
			marked to be a (part of) primary key; 
			</P>
			<LI><P STYLE="margin-bottom: 0cm"><TT CLASS="western">default</TT>
			- (optional) if the column has a value assigned by default, this
			field may contain a constant of type, specified by the <TT CLASS="western">&quot;type&quot;</TT>
			attribute, or a special value <TT CLASS="western">&quot;sysdate&quot;</TT>
			for <TT CLASS="western">&quot;datetime&quot;</TT> type columns to
			insert the current date and time; 
			</P>
			<LI><P STYLE="margin-bottom: 0cm"><TT CLASS="western">property</TT>
			- (optional) name of object's attribute, if it differs from column
			name; 
			</P>
			<LI><P><TT CLASS="western">xml-name</TT> - (optional) name of the
			XML element, used by the <TT CLASS="western">AutoXMLizer</TT>, if
			not set then the column's name is used, translated to lower case,
			<TT CLASS="western">'_'</TT> is substituted with <TT CLASS="western">'-'</TT>.
			To disable column output set this field to special value <TT CLASS="western">'!'</TT>.
						</P>
		</UL>
		<BLOCKQUOTE>Also <TT CLASS="western">&lt;column&gt;</TT> may
		contain nested elements to describe additional constraints: 
		</BLOCKQUOTE>
		<UL>
			<LI><P STYLE="margin-bottom: 0cm"><TT CLASS="western">&lt;read-only&gt;</TT>
			- the column may be only assigned once created, any subsequent
			updates will produce an error. 
			</P>
			<LI><P STYLE="margin-bottom: 0cm"><TT CLASS="western">&lt;primary-key&gt;</TT>
			- the column is a primary key or is a part of compound primary
			key. 
			</P>
			<LI><P STYLE="margin-bottom: 0cm"><TT CLASS="western">&lt;foreign-key&gt;</TT>
			- the column refers to another table/column, this is known as
			foreign key constraint. This element has the following attributes:
						</P>
			<UL>
				<LI><P STYLE="margin-bottom: 0cm"><TT CLASS="western">table</TT>
				- (required) table name the column refers to; 
				</P>
				<LI><P STYLE="margin-bottom: 0cm"><TT CLASS="western">key</TT> -
				(optional) column name in the referenced table, this may be
				omitted if the referenced column is a primary key. 
				</P>
			</UL>
		</UL>
	</UL>
	<LI><P STYLE="margin-bottom: 0cm"><TT CLASS="western">&lt;relation&gt;</TT>
	- element describes relations between domain classes. Contents of
	this element depends on type of relationship specified. The required
	attribute <TT CLASS="western">&quot;type&quot;</TT> can be
	<TT CLASS="western">&quot;one-to-many&quot;</TT>. Other kinds of
	relationship (<TT CLASS="western">&quot;many-to-many&quot;</TT>,
	<TT CLASS="western">&quot;parent-to-child&quot;</TT>) are yet to be
	implemented. The optional attribute <TT CLASS="western">&quot;cascade&quot;</TT>
	defines what action to take for the slave records on attempt to
	delete the master record. Possible actions are: <TT CLASS="western">&quot;restrict&quot;</TT>,
	<TT CLASS="western">&quot;set-null&quot;</TT>, <TT CLASS="western">&quot;delete&quot;</TT>.
	To use <TT CLASS="western">&quot;set-null&quot;</TT> the dependent
	table must have its foreign key field nullable: <TT CLASS="western">null=&quot;true&quot;</TT>.
		</P>
	<UL>
		<LI><P STYLE="margin-bottom: 0cm"><TT CLASS="western">&quot;one-to-many&quot;</TT>
		- this kind of relationship assumes two nested elements. 
		</P>
		<UL>
			<LI><P STYLE="margin-bottom: 0cm"><TT CLASS="western">&lt;one&gt;</TT>
			- class for the master table, its attributes: 
			</P>
			<UL>
				<LI><P STYLE="margin-bottom: 0cm"><TT CLASS="western">class</TT>
				- (required) class name, mapped to the master table; 
				</P>
				<LI><P STYLE="margin-bottom: 0cm"><TT CLASS="western">property</TT>
				- (optional) property name, created to reference typically
				multiple dependent objects; 
				</P>
				<LI><P STYLE="margin-bottom: 0cm"><TT CLASS="western">use-list</TT>
				- (optional) if there is a property at master object, referring
				slave objects, then if this attribute set to <TT CLASS="western">false</TT>,
				the property looks like a single object reference rather than a
				list; useful for modeling relations one-to-one. 
				</P>
			</UL>
			<LI><P STYLE="margin-bottom: 0cm"><TT CLASS="western">&lt;many&gt;</TT>
			- for the dependent class, possible attributes: 
			</P>
			<UL>
				<LI><P STYLE="margin-bottom: 0cm"><TT CLASS="western">class</TT>
				- (required) class name, mapped to the dependent table; 
				</P>
				<LI><P STYLE="margin-bottom: 0cm"><TT CLASS="western">property</TT>
				- (optional) property name, created to reference single master
				object; 
				</P>
				<LI><P STYLE="margin-bottom: 0cm"><TT CLASS="western">key</TT> -
				(optional) specifies what column to use as a foreign key, useful
				if there's more than one relation between two tables; 
				</P>
				<LI><P><TT CLASS="western">order-by</TT> - (optional) it contains
				SQL expression to <TT CLASS="western">ORDER BY</TT> clause to
				determine the order in which dependent objects will appear when
				accessing the relationship object, e. g. when walking through
				list-property at master object. 
				</P>
			</UL>
		</UL>
	</UL>
</UL>
<P STYLE="margin-bottom: 0cm"><BR>
</P>
</BODY>
</HTML>